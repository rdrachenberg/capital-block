{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/ryan/Desktop/Kingsland-University/Homework Files/Module-6-Homework/capital-block/client/src/components/Post/Post.js\";\nimport React from \"react\";\nimport { MDBContainer, MDBRow, MDBCol, MDBBtn } from 'mdbreact';\nimport API from '../../utils/API';\nimport { withRouter } from 'react-router-dom';\nimport Cookies from 'universal-cookie';\nconst cookies = new Cookies();\n\nclass PostPage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      // console.log(e)\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n\n      if (this.state.img && this.state.title && this.state.text) {\n        // console.log(this.state);\n        // console.log(token);\n        API.savePost({\n          img: this.state.img,\n          title: this.state.title,\n          text: this.state.text,\n          author: this.state.token,\n          date: Date.now()\n        }).then(response => {\n          console.log(response);\n          this.setState({\n            loggedIn: true\n          });\n          console.log(`${this.state.loggedIn}`);\n          this.props.history.replace('/');\n        }).catch(err => console.log(err));\n      }\n\n      console.log('ðŸŒŽ  ==> Post pluggin!!!!  ðŸŒŽ');\n    };\n\n    this.state = {\n      toHome: false,\n      img: 'https://cdn.pixabay.com/photo/2018/09/16/22/08/software-3682509_1280.jpg',\n      title: '',\n      text: '',\n      author: '',\n      error: {\n        img: '',\n        title: '',\n        text: ''\n      }\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    console.log(cookies.get('x-auth-token') + ' this is the x-auth-token');\n\n    if (document.cookie.indexOf('x-auth-token') === -1) {\n      // this.props.history.push('404');\n      this.props.history.push('/');\n      return;\n    }\n\n    this.setState({\n      token: cookies.get('x-auth-token')\n    });\n    console.log(this.state);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(MDBContainer, {\n      align: \"center\",\n      id: \"post-container\",\n      children: /*#__PURE__*/_jsxDEV(MDBRow, {\n        align: \"center\",\n        children: [/*#__PURE__*/_jsxDEV(MDBCol, {\n          md: \"3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(MDBCol, {\n          md: \"6\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            align: \"left\",\n            onSubmit: this.handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"h4 text-center mb-4\",\n              children: \"Make a post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"Image\",\n              className: \"grey-text\",\n              children: \"Post title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"post-img\",\n              className: \"form-control\",\n              value: this.state.img,\n              onChange: this.handleChange,\n              autoComplete: \"title\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"PostTitle\",\n              className: \"grey-text\",\n              children: \"Post title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"title\",\n              className: \"form-control\",\n              value: this.state.title,\n              onChange: this.handleChange,\n              autoComplete: \"title\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"Post\",\n              className: \"grey-text\",\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              type: \"text\",\n              id: \"text\",\n              className: \"form-control\",\n              value: this.state.text,\n              onChange: this.handleChange,\n              autoComplete: \"text\",\n              required: true,\n              rows: \"8\",\n              cols: \"50\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center mt-4\",\n              children: /*#__PURE__*/_jsxDEV(MDBBtn, {\n                type: \"submit\",\n                children: \"Post\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(MDBCol, {\n          md: \"3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\n;\nexport default _c = withRouter(PostPage);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/ryan/Desktop/Kingsland-University/Homework Files/Module-6-Homework/capital-block/client/src/components/Post/Post.js"],"names":["React","MDBContainer","MDBRow","MDBCol","MDBBtn","API","withRouter","Cookies","cookies","PostPage","Component","constructor","props","handleChange","e","setState","target","id","value","handleSubmit","preventDefault","state","img","title","text","savePost","author","token","date","Date","now","then","response","console","log","loggedIn","history","replace","catch","err","toHome","error","bind","componentDidMount","get","document","cookie","indexOf","push","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { MDBContainer, MDBRow, MDBCol, MDBBtn } from 'mdbreact';\nimport API from '../../utils/API';\nimport { withRouter} from 'react-router-dom';\nimport Cookies from 'universal-cookie';\n\nconst cookies = new Cookies();\n\nclass PostPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            toHome: false,\n            img: 'https://cdn.pixabay.com/photo/2018/09/16/22/08/software-3682509_1280.jpg',\n            title: '',\n            text: '',\n            author: '',\n            error: {\n                img: '',\n                title: '',\n                text: '',\n                \n            }\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange = (e) => {\n        // console.log(e)\n        this.setState({\n            [e.target.id] : e.target.value\n        });\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        if(this.state.img && this.state.title && this.state.text){\n            // console.log(this.state);\n            \n            // console.log(token);\n            API.savePost({\n                img: this.state.img,\n                title: this.state.title,\n                text: this.state.text,\n                author: this.state.token,\n                date: Date.now()\n                \n            }).then(response => {\n                console.log(response);\n                this.setState({\n                    loggedIn: true\n                })\n                console.log(`${this.state.loggedIn}`);\n                \n                this.props.history.replace('/');\n            })\n            .catch(err => console.log(err));\n        }\n        \n        console.log('ðŸŒŽ  ==> Post pluggin!!!!  ðŸŒŽ');\n    }\n    componentDidMount(){\n        console.log(cookies.get('x-auth-token') + ' this is the x-auth-token');\n        \n        if(document.cookie.indexOf('x-auth-token') === -1){\n            // this.props.history.push('404');\n            this.props.history.push('/');\n            return;\n        }\n\n        this.setState({\n            token: cookies.get('x-auth-token')\n        });\n        console.log(this.state);\n    }\n\n    render(){\n        return (\n            <MDBContainer align = 'center' id='post-container'>\n                <MDBRow align='center'>\n                    <MDBCol md=\"3\"/>\n                    <MDBCol md=\"6\">\n                        <form align='left' onSubmit={this.handleSubmit}>\n                            <p className=\"h4 text-center mb-4\">Make a post</p>\n                            <label htmlFor=\"Image\" className=\"grey-text\">Post title</label>\n                            <input type=\"text\" id=\"post-img\" className=\"form-control\" value={this.state.img} onChange={this.handleChange} autoComplete='title' required/>\n                            <br />\n                            <label htmlFor=\"PostTitle\" className=\"grey-text\">Post title</label>\n                            <input type=\"text\" id=\"title\" className=\"form-control\" value={this.state.title} onChange={this.handleChange} autoComplete='title' required/>\n                            <br />\n                            <label htmlFor=\"Post\" className=\"grey-text\">Description</label>\n                            <textarea type=\"text\" id=\"text\" className=\"form-control\" value={this.state.text} onChange={this.handleChange} autoComplete='text' required rows=\"8\" cols=\"50\"/>\n                            <br />\n                            <div className=\"text-center mt-4\">\n                                <MDBBtn type=\"submit\">Post</MDBBtn>\n                            </div>\n                        </form>\n                    </MDBCol>\n                    <MDBCol md=\"3\"/>\n                </MDBRow>\n            </MDBContainer>\n        );\n    }\n\n};\n\nexport default withRouter(PostPage);"]},"metadata":{},"sourceType":"module"}